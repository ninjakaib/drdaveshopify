{% comment %}
  Renders a product card with an image, title, description, price, details link, and buy button.

  Accepts:
  - product: {Object} The product object containing information about the product.
  - product_image_size: {String} The size to which the product image should be resized.
  - product_title_bold: {Boolean} Determines if the product title should be bold.
  - product_card_spacing: {String} The margin around the product card.
  - product_card_h_padding: {String} The horizontal padding inside the product card.
  - product_card_t_padding: {String} The top padding inside the product card.
  - product_card_b_padding: {String} The bottom padding inside the product card.
  - product_card_gap: {String} The gap between elements inside the product card.

  Usage:
  Include this snippet in any section or template by using the {% render %} tag and passing the required parameters. Example:

  {% render 'product-card',
    product: product,
    product_image_size: '250px',
    product_title_bold: true,
    product_card_spacing: '10px',
    product_card_h_padding: '15px',
    product_card_t_padding: '20px',
    product_card_b_padding: '20px',
    product_card_gap: '5px'
  %}
{% endcomment %}

<div class="product-card">
  <div class="product-image">
    {{ product.featured_image | image_url: height: product_image_size | image_tag: alt: product.title }}
  </div>

  <div class="product-info">
    <div class="product-title tidbit">
      {% if product_title_bold %}
        <h3>
          <strong>{{ product.title }}</strong>
        </h3>
      {% else %}
        <h3>{{ product.title }}</h3>
      {% endif %}
    </div>

    <div class="product-description tidbit">
      {{ product.metafields.custom.shortdesc.value }}
    </div>

    <div class="product-price tidbit">
      {{ product.price | money }}
    </div>

    <div class="product-link tidbit">
      <strong
        ><a href="{{ product.url }}" class="btn">{{ 'View details >>' }}</a></strong
      >
    </div>

    <div class="product-buy-button tidbit">{% render 'buy-buttons', product: product %}</div>
  </div>
</div>

<style>
     .product-card {
       display: flex;
       margin: {{ product_card_margin }}px;
       padding-left: {{ product_card_h_padding }}px;
       padding-right: {{ product_card_h_padding }}px;
       padding-top: {{ product_card_t_padding }}px;
       padding-bottom: {{ product_card_b_padding }}px;
       gap: {{ product_card_gap }}px;
       box-shadow: 0px 0px 20px grey;
     }

     .product-image {
       display: flex;
       flex-direction: column;
       justify-content: center;
       align-items: center;
     }

     .product-info {
       display: flex;
       flex-direction: column;
       justify-content: space-between;
       padding-top: 1%;
       padding-bottom: 2%;
       width: 250px;
       {% comment %} letter-spacing: -0.5px; {% endcomment %}
     }

     .product-description {
       overflow: hidden;
       display: -webkit-box;
       -webkit-box-orient: vertical;
       -webkit-line-clamp: 3; /* Adjust the number of lines */
       text-overflow: ellipsis;
       color: rgb(var(--color-foreground));
       line-height: 1.3em;
     }
  {% comment %}
     .preorder-button {
       background-color: #BD765A; /* Rectangle color */
       color: white; /* Text color */
       font-size: 0.7em; /* Font size */
       padding: 5px 10px; /* Padding inside the button */
       border: none; /* No border */
       border-radius: 5px; /* Rounded corners */
       align-self: flex-start;
       transform: translate(3em, 5em);
       {% comment %} transform: translateX(55px); {% endcomment %}
     } {% endcomment %}

     .product-price {
       color: rgb(var(--color-price));
       font-weight: 600;
     }

     .product-link * {
       color: rgb(var(--color-link));
       font-size: 0.9em;
     }

     h3 {
       margin: 0px;
       font-size: 1.2em;
     }
</style>
